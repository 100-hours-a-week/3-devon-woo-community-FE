<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>게시글 출간 - NAVER D²</title>
    <link rel="stylesheet" href="publish.css">
</head>
<body>
    <header class="header">
        <div class="header-content">
            <div class="logo-section">
                <h1 class="logo">
                    <span class="logo-naver">NAVER</span>
                    <span class="logo-d2">D²</span>
                </h1>
            </div>
        </div>
    </header>

    <main class="main-container">
        <div class="publish-wrapper">
            <div class="publish-header">
                <h2 class="publish-title">게시글 출간</h2>
                <p class="publish-subtitle">게시글의 정보를 입력하고 출간해보세요</p>
            </div>

            <div class="publish-content">
                <section class="publish-section">
                    <h3 class="section-label">게시글 제목</h3>
                    <div class="post-title-preview" id="postTitlePreview">
                        제목을 불러오는 중...
                    </div>
                </section>

                <section class="publish-section">
                    <label for="summaryInput" class="section-label">
                        간단한 소개
                        <span class="label-optional">선택</span>
                    </label>
                    <textarea
                        id="summaryInput"
                        class="summary-input"
                        placeholder="게시글을 간단히 소개해보세요 (최대 150자)"
                        maxlength="150"
                        rows="3"
                    ></textarea>
                    <div class="char-count">
                        <span id="summaryCharCount">0</span> / 150
                    </div>
                </section>

                <section class="publish-section">
                    <label class="section-label">
                        썸네일
                        <span class="label-optional">선택</span>
                    </label>
                    <div class="thumbnail-section">
                        <div class="thumbnail-preview" id="thumbnailPreview">
                            <div class="thumbnail-placeholder">
                                <svg width="48" height="48" viewBox="0 0 48 48" fill="none">
                                    <rect x="6" y="6" width="36" height="36" rx="4" stroke="currentColor" stroke-width="3"/>
                                    <circle cx="18" cy="18" r="4" fill="currentColor"/>
                                    <path d="M42 30l-10-10-15 15-5-5-6 6" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"/>
                                </svg>
                                <p>썸네일 이미지를 선택하세요</p>
                            </div>
                        </div>
                        <div class="thumbnail-actions">
                            <button class="btn-secondary btn-small" id="uploadThumbnailBtn">
                                <svg width="16" height="16" viewBox="0 0 16 16" fill="none">
                                    <path d="M8 12V4M4 8l4-4 4 4M2 14h12" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                                </svg>
                                이미지 업로드
                            </button>
                            <button class="btn-secondary btn-small" id="removeThumbnailBtn" style="display: none;">
                                제거
                            </button>
                        </div>
                        <p class="thumbnail-hint">첫 번째 이미지가 자동으로 썸네일로 설정됩니다</p>
                    </div>
                </section>

                <section class="publish-section">
                    <label for="tagsInput" class="section-label">
                        태그
                        <span class="label-optional">선택</span>
                    </label>
                    <div class="tags-input-wrapper">
                        <div class="tags-container" id="tagsContainer">
                            <input
                                type="text"
                                id="tagsInput"
                                class="tags-input"
                                placeholder="태그를 입력하고 Enter를 누르세요"
                            >
                        </div>
                        <div class="tags-suggestions" id="tagsSuggestions" style="display: none;">
                        </div>
                    </div>
                    <p class="tags-hint">태그를 입력하면 비슷한 태그를 추천해드립니다</p>
                    <div class="selected-tags" id="selectedTags">
                    </div>
                </section>

                <section class="publish-section">
                    <label class="section-label">
                        시리즈
                        <span class="label-optional">선택</span>
                    </label>
                    <div class="series-selector">
                        <select id="seriesSelect" class="series-select">
                            <option value="">시리즈를 선택하세요</option>
                        </select>
                        <button class="btn-secondary btn-small" id="createSeriesBtn">
                            <svg width="16" height="16" viewBox="0 0 16 16" fill="none">
                                <path d="M8 3v10M3 8h10" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
                            </svg>
                            새 시리즈
                        </button>
                    </div>
                </section>

                <section class="publish-section">
                    <label class="section-label">
                        공개 설정
                    </label>
                    <div class="visibility-options">
                        <label class="radio-option">
                            <input type="radio" name="visibility" value="public" checked>
                            <div class="radio-content">
                                <div class="radio-label">
                                    <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
                                        <path d="M10 18a8 8 0 1 0 0-16 8 8 0 0 0 0 16zM10 1v18M1 10h18" stroke="currentColor" stroke-width="1.5"/>
                                    </svg>
                                    <span class="radio-title">전체 공개</span>
                                </div>
                                <p class="radio-description">모든 사람이 볼 수 있습니다</p>
                            </div>
                        </label>
                        <label class="radio-option">
                            <input type="radio" name="visibility" value="private">
                            <div class="radio-content">
                                <div class="radio-label">
                                    <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
                                        <rect x="3" y="8" width="14" height="10" rx="2" stroke="currentColor" stroke-width="1.5"/>
                                        <path d="M6 8V6a4 4 0 0 1 8 0v2" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
                                    </svg>
                                    <span class="radio-title">비공개</span>
                                </div>
                                <p class="radio-description">나만 볼 수 있습니다</p>
                            </div>
                        </label>
                    </div>
                </section>
            </div>

            <div class="publish-actions">
                <button class="btn-secondary" id="cancelBtn">취소</button>
                <button class="btn-primary" id="publishBtn">
                    <svg width="16" height="16" viewBox="0 0 16 16" fill="none">
                        <path d="M14 10v3.33A1.67 1.67 0 0 1 12.33 15H3.67A1.67 1.67 0 0 1 2 13.33V10M11.33 5.33L8 2 4.67 5.33M8 2v8.67" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                    출간하기
                </button>
            </div>
        </div>
    </main>

    <input type="file" id="thumbnailInput" accept="image/jpeg,image/jpg,image/png,image/gif,image/webp" style="display: none;">

    <div class="modal" id="seriesModal">
        <div class="modal-backdrop"></div>
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title">새 시리즈 만들기</h3>
                <button class="modal-close" id="closeSeriesModal">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                        <path d="M18 6L6 18M6 6l12 12" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                    </svg>
                </button>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <label for="seriesNameInput" class="form-label">시리즈 이름</label>
                    <input
                        type="text"
                        id="seriesNameInput"
                        class="form-input"
                        placeholder="시리즈 이름을 입력하세요"
                        maxlength="50"
                    >
                </div>
                <div class="form-group">
                    <label for="seriesDescInput" class="form-label">시리즈 설명</label>
                    <textarea
                        id="seriesDescInput"
                        class="form-input"
                        placeholder="시리즈에 대한 간단한 설명을 입력하세요"
                        rows="3"
                        maxlength="200"
                    ></textarea>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn-secondary" id="cancelSeriesBtn">취소</button>
                <button class="btn-primary" id="createSeriesSubmitBtn">만들기</button>
            </div>
        </div>
    </div>

    <div class="loading-overlay" id="loadingOverlay" style="display: none;">
        <div class="loading-spinner">
            <svg width="48" height="48" viewBox="0 0 48 48" fill="none">
                <circle cx="24" cy="24" r="20" stroke="#e5e5e5" stroke-width="4"/>
                <circle cx="24" cy="24" r="20" stroke="#667eea" stroke-width="4" stroke-dasharray="125" stroke-dashoffset="25" stroke-linecap="round"/>
            </svg>
            <p>게시글을 출간하는 중...</p>
        </div>
    </div>

    <script src="publish.js"></script>
</body>
</html>
